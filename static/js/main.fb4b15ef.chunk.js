(this["webpackJsonprocketshoes-web-app"]=this["webpackJsonprocketshoes-web-app"]||[]).push([[0],{106:function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"addToCartRequest",(function(){return _})),e.d(r,"addToCartSuccess",(function(){return M})),e.d(r,"removeFromCart",(function(){return P})),e.d(r,"updateAmountRequest",(function(){return I})),e.d(r,"updateAmountSuccess",(function(){return L}));var c=e(3),a=e(1),o=e.n(a),i=e(18),s=e.n(i),u=e(25),d=e(22),b=e(27),l=(e(73),e(85),e(86),e(10)),p=e(11),j=(e(87),e.p+"static/media/background.0873fe9d.svg");function f(){var n=Object(l.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: 0;\n  }\n\n  body {\n    background: #191920 url(",")  no-repeat center top;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  body, input button {\n    font: 14px Roboto, sans-serif;\n  }\n\n  #root {\n    max-width: 1020px;\n    margin: 0 auto;\n    padding: 0 20px 50px;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n"]);return f=function(){return n},n}var x=Object(p.a)(f(),j),O=e(7),h=e(17),g=e.n(h),m=e(20),v=e(56),y=e(57),k=e(58),w=e(63),C=e(61),S=e(19),E=e(60),z=e(14),T=e(29);function A(){var n=Object(l.a)(["\n  display: flex;\n  grid-gap: 20px;\n  flex-wrap: wrap;\n  list-style: none;\n  justify-content: center;\n\n  li {\n    display: flex;\n    flex-direction: column;\n    background: #fff;\n    border-radius: 4px;\n    padding: 20px;\n\n    img {\n      align-self: center;\n      max-width: 250px;\n    }\n\n    > strong {\n      font-size: 16px;\n      line-height: 20px;\n      color: #333;\n      margin-top: 5px;\n    }\n\n    > span {\n      font-size: 21px;\n      font-weight: bold;\n      margin: 5px 0 20px;\n    }\n\n    button {\n      background: #7159c1;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      overflow: hidden;\n      margin-top: auto;\n\n      display: flex;\n      align-items: center;\n      transition: background 0.5s;\n\n      &:hover {\n        background: ",";\n      }\n\n      div {\n        display: flex;\n        align-items: center;\n        padding: 12px;\n        background: rgba(0, 0, 0, 0.1);\n\n        svg {\n          margin-right: 5px;\n        }\n      }\n\n      span {\n        flex: 1;\n        text-align: center;\n        font-weight: bold;\n      }\n    }\n  }\n"]);return A=function(){return n},n}function D(){var n=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n\n  &[loading] {\n    svg {\n      animation: "," 2s linear infinite;\n      margin-bottom: 10px;\n    }\n  }\n\n  span {\n    font-size: 20px;\n    font-weight: bold;\n    color: #fff;\n  }\n"]);return D=function(){return n},n}function R(){var n=Object(l.a)(["\n  from {\n    transform: rotate(0deg)\n  }\n\n  to {\n    transform: rotate(360deg)\n  }\n"]);return R=function(){return n},n}var U=Object(p.c)(R()),q=p.b.div.attrs((function(n){return{loading:n.loading}}))(D(),U),F=p.b.ul(A(),Object(T.a)(.05,"#7159c1"));function _(n){return{type:"@cart/ADD_REQUEST",id:n}}function M(n){return{type:"@cart/ADD_SUCCESS",product:n}}function P(n){return{type:"@cart/REMOVE",id:n}}function I(n,t){return{type:"@cart/UPDATE_REQUEST",id:n,amount:t}}function L(n,t){return{type:"@cart/UPDATE_SUCCESS",id:n,amount:t}}var Q=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format,B=e(59),G=e.n(B).a.create({baseURL:"https://my-json-server.typicode.com/luksops/json-server-rocketshoes"}),J=function(n){Object(w.a)(e,n);var t=Object(C.a)(e);function e(){var n;return Object(y.a)(this,e),(n=t.call(this)).handleAddToCart=function(t){(0,n.props.addToCartRequest)(t)},n.state={products:[],loading:!1},n}return Object(k.a)(e,[{key:"componentDidMount",value:function(){var n=Object(v.a)(g.a.mark((function n(){var t,e;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.setState({loading:!0}),n.next=3,G.get("products");case 3:t=n.sent,e=t.data.map((function(n){return Object(m.a)(Object(m.a)({},n),{},{priceFormatted:Q(n.price)})})),this.setState({products:e,loading:!1});case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this,t=this.state,e=t.products,r=t.loading,a=this.props.quantity;return r?Object(c.jsxs)(q,{loading:r?1:0,children:[Object(c.jsx)(E.a,{size:70,color:"#fff"}),Object(c.jsx)("span",{children:"Loading"})]}):Object(c.jsx)(F,{children:e.map((function(t){return Object(c.jsxs)("li",{children:[Object(c.jsx)("img",{src:t.image,alt:t.title}),Object(c.jsxs)("strong",{children:[" ",t.title," "]}),Object(c.jsxs)("span",{children:[" ",t.priceFormatted," "]}),Object(c.jsxs)("button",{type:"button",onClick:function(){return n.handleAddToCart(t.id)},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(S.f,{size:16,color:"#fff"})," ",a[t.id]||0]}),Object(c.jsx)("span",{children:" ADD TO CART "})]})]},t.id)}))})}}]),e}(a.Component),N=Object(d.b)((function(n){return{quantity:n.cart.reduce((function(n,t){return n[t.id]=t.amount,n}),{})}}),(function(n){return Object(z.b)(r,n)}))(J);function V(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  svg {\n    margin-bottom: 10px;\n  }\n\n  span {\n    font-size: 18px;\n    font-weight: bold;\n    color: #999;\n  }\n"]);return V=function(){return n},n}function H(){var n=Object(l.a)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n\n  span {\n    color: #999;\n    font-weight: bold;\n  }\n\n  strong {\n    font-size: 20px;\n    margin-left: 5px;\n  }\n"]);return H=function(){return n},n}function K(){var n=Object(l.a)(["\n  width: 100%;\n\n  thead th {\n    color: #999;\n    text-align: center;\n    padding: 12px;\n  }\n\n  tbody td {\n    padding: 12px;\n    border-bottom: 1px solid #eee;\n\n    img {\n      height: 100px;\n    }\n\n    strong {\n      color: #333;\n      display: block;\n      text-align: center;\n    }\n\n    span {\n      display: block;\n      margin-top: 5px;\n      font-size: 16px;\n      font-weight: bold;\n      text-align: center;\n    }\n\n    div {\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n\n      input {\n        border: 1px solid #ddd;\n        border-radius: 4px;\n        color: #666;\n        padding: 6px;\n        width: 50px;\n      }\n    }\n\n    button {\n      background: none;\n      border: 0;\n      padding: 6px;\n      display: flex;\n      align-items: center;\n\n      &:disabled {\n        opacity: 0.4;\n        cursor: not-allowed;\n      }\n    }\n  }\n"]);return K=function(){return n},n}function W(){var n=Object(l.a)(["\n  padding: 30px;\n  background: #fff;\n  border-radius: 4px;\n\n  @media (max-width: 630px) {\n    overflow: auto;\n  }\n\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    button {\n      background: #7159c1;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      padding: 12px 20px;\n      font-weight: bold;\n      text-transform: uppercase;\n      transition: background 0.5s;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n"]);return W=function(){return n},n}var X=p.b.div(W(),Object(T.a)(.05,"#7159c1")),Y=p.b.table(K()),Z=p.b.div(H()),$=p.b.div(V());var nn=Object(d.b)((function(n){return{cart:n.cart.map((function(n){return Object(m.a)(Object(m.a)({},n),{},{subtotal:Q(n.amount*n.price)})})),total:Q(n.cart.reduce((function(n,t){return n+t.amount*t.price}),0))}}),(function(n){return Object(z.b)(r,n)}))((function(n){var t=n.cart,e=n.removeFromCart,r=n.updateAmountRequest,a=n.total;return Object(c.jsx)(X,{children:t.length>0?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(Y,{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{"aria-label":"empty"}),Object(c.jsx)("th",{children:"Product"}),Object(c.jsx)("th",{children:"Quantity"}),Object(c.jsx)("th",{children:"Subtotal"}),Object(c.jsx)("th",{"aria-label":"empty"})]})}),Object(c.jsx)("tbody",{children:t.map((function(n){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("img",{src:n.image,alt:n.title})}),Object(c.jsxs)("td",{children:[Object(c.jsxs)("strong",{children:[" ",n.title," "]}),Object(c.jsxs)("span",{children:[" ",n.priceFormatted," "]})]}),Object(c.jsx)("td",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{disabled:n.amount<=1,type:"button",onClick:function(){return function(n){r(n.id,n.amount-1)}(n)},children:Object(c.jsx)(S.c,{size:20,color:"#7159c1"})}),Object(c.jsx)("input",{type:"number",readOnly:!0,value:n.amount}),Object(c.jsx)("button",{type:"button",onClick:function(){return function(n){r(n.id,n.amount+1)}(n)},children:Object(c.jsx)(S.a,{size:20,color:"#7159c1"})})]})}),Object(c.jsx)("td",{children:Object(c.jsxs)("strong",{children:[" ",n.subtotal," "]})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{type:"button",onClick:function(){return e(n.id)},children:Object(c.jsx)(S.b,{size:20,color:"#7159c1"})})})]})}))})]}),Object(c.jsxs)("footer",{children:[Object(c.jsx)("button",{type:"button",children:"Buy now"}),Object(c.jsxs)(Z,{children:[Object(c.jsx)("span",{children:"TOTAL: "}),Object(c.jsxs)("strong",{children:[" ",a," "]})]})]})]}):Object(c.jsx)(X,{children:Object(c.jsxs)($,{children:[Object(c.jsx)(S.d,{size:75,color:"#999"}),Object(c.jsx)("span",{children:"Empty Cart"})]})})})}));function tn(){return Object(c.jsxs)(O.c,{children:[Object(c.jsx)(O.a,{path:"/rocketshoes-web/",exact:!0,component:N}),Object(c.jsx)(O.a,{path:"/rocketshoes-web/cart",exact:!0,component:nn})]})}function en(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  transition: opacity 0.15s;\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  div {\n    text-align: right;\n    margin-right: 10px;\n\n    strong {\n      display: block;\n      color: #fff;\n    }\n\n    span {\n      font-size: 12px;\n      color: #999;\n    }\n  }\n"]);return en=function(){return n},n}function rn(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 50px 0;\n\n  @media (max-width: 413px) {\n    justify-content: space-around;\n\n    a {\n      padding-bottom: 10px;\n    }\n  }\n"]);return rn=function(){return n},n}var cn=p.b.div(rn()),an=Object(p.b)(u.b)(en()),on=e.p+"static/media/logo.48036d99.svg";var sn=Object(d.b)((function(n){return{cartSize:n.cart.length}}))((function(n){var t=n.cartSize;return Object(c.jsxs)(cn,{children:[Object(c.jsx)(u.b,{to:"/rocketshoes-web/",children:Object(c.jsx)("img",{src:on,alt:"Rocketshoes"})}),Object(c.jsxs)(an,{to:"/rocketshoes-web/cart",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"My Cart"}),Object(c.jsxs)("span",{children:[" ",t," Itens "]})]}),Object(c.jsx)(S.e,{size:36,color:"#fff"})]})]})})),un=e(62),dn=e(30);var bn=Object(z.c)({cart:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@cart/ADD_SUCCESS":return Object(dn.a)(n,(function(n){var e=t.product;n.push(e)}));case"@cart/REMOVE":return Object(dn.a)(n,(function(n){var e=n.findIndex((function(n){return n.id===t.id}));e>=0&&n.splice(e,1)}));case"@cart/UPDATE_SUCCESS":return Object(dn.a)(n,(function(n){var e=n.findIndex((function(n){return n.id===t.id}));e>=0&&(n[e].amount=Number(t.amount))}));default:return n}}}),ln=e(12),pn=g.a.mark(fn),jn=g.a.mark(xn);function fn(n){var t,e,r,c,a,o,i,s;return g.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=n.id,u.next=3,Object(ln.select)((function(n){return n.cart.find((function(n){return n.id===t}))}));case 3:return e=u.sent,u.next=6,Object(ln.call)(G.get,"/stock/".concat(t));case 6:if(r=u.sent,c=r.data.amount,a=e?e.amount:0,!((o=a+1)>c)){u.next=13;break}return b.b.error("Unavaliable requested amount for this product."),u.abrupt("return");case 13:if(!e){u.next=18;break}return u.next=16,Object(ln.put)(L(t,o));case 16:u.next=24;break;case 18:return u.next=20,Object(ln.call)(G.get,"/products/".concat(t));case 20:return i=u.sent,s=Object(m.a)(Object(m.a)({},i.data),{},{amount:1,priceFormatted:Q(i.data.price)}),u.next=24,Object(ln.put)(M(s));case 24:case"end":return u.stop()}}),pn)}function xn(n){var t,e,r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=n.id,!((e=n.amount)<=0)){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Object(ln.call)(G.get,"/stock/".concat(t));case 5:if(r=a.sent,c=r.data.amount,!(e>c)){a.next=11;break}b.b.error("Unavaliable requested amount for this product."),a.next=13;break;case 11:return a.next=13,Object(ln.put)(L(t,e));case 13:case"end":return a.stop()}}),jn)}var On=Object(ln.all)([Object(ln.takeLatest)("@cart/ADD_REQUEST",fn),Object(ln.takeLatest)("@cart/UPDATE_REQUEST",xn)]),hn=g.a.mark(gn);function gn(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ln.all)([On]);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),hn)}var mn=Object(un.a)({sagaMonitor:null}),vn=Object(z.a)(mn),yn=Object(z.e)(bn,vn);mn.run(gn);var kn=yn;var wn=function(){return Object(c.jsx)(d.a,{store:kn,children:Object(c.jsxs)(u.a,{children:[Object(c.jsx)(sn,{}),Object(c.jsx)(tn,{}),Object(c.jsx)(x,{}),Object(c.jsx)(b.a,{autoClose:3e3})]})})};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(wn,{})}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.fb4b15ef.chunk.js.map