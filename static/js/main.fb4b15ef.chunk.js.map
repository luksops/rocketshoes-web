{"version":3,"sources":["assets/img/background.svg","styles/global.js","pages/Home/styles.js","store/modules/cart/actions.js","utility/format.js","services/api.js","pages/Home/index.js","pages/Cart/styles.js","pages/Cart/index.js","routes.js","components/Header/styles.js","assets/img/logo.svg","components/Header/index.js","store/modules/rootReducer.js","store/modules/cart/reducer.js","store/modules/cart/sagas.js","store/modules/rootSaga.js","store/index.js","App.js","index.js"],"names":["createGlobalStyle","background","rotate","keyframes","Container","styled","div","attrs","props","loading","ProductList","ul","darken","addToCartRequest","id","type","addToCartSuccess","product","removeFromCart","updateAmountRequest","amount","updateAmountSuccess","formatPrice","Intl","NumberFormat","style","currency","format","api","axios","create","baseURL","Home","handleAddToCart","state","products","this","setState","get","response","data","map","priceFormatted","price","quantity","size","color","src","image","alt","title","onClick","Component","connect","cart","reduce","dispatch","bindActionCreators","CartActions","ProductTable","table","Total","CartContainer","subtotal","total","length","aria-label","disabled","decrement","readOnly","value","increment","Routes","path","exact","component","Cart","Link","cartSize","to","logo","combineReducers","action","produce","draft","push","productIndex","findIndex","p","splice","Number","addToCart","updateAmount","select","find","productExists","call","stock","currentStock","currentAmount","newAmount","toast","error","put","all","takeLatest","rootSaga","sagaMiddleware","createSagaMiddleware","sagaMonitor","enhancer","applyMiddleware","store","createStore","rootReducer","run","App","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fb4b15ef.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/background.0873fe9d.svg\";","import { createGlobalStyle } from 'styled-components';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport background from '../assets/img/background.svg';\r\n\r\nexport default createGlobalStyle`\r\n  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');\r\n\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    outline: 0;\r\n    box-sizing: 0;\r\n  }\r\n\r\n  body {\r\n    background: #191920 url(${background})  no-repeat center top;\r\n    -webkit-font-smoothing: antialiased;\r\n  }\r\n\r\n  body, input button {\r\n    font: 14px Roboto, sans-serif;\r\n  }\r\n\r\n  #root {\r\n    max-width: 1020px;\r\n    margin: 0 auto;\r\n    padding: 0 20px 50px;\r\n  }\r\n\r\n  button {\r\n    cursor: pointer;\r\n  }\r\n\r\n`;\r\n","import styled, { keyframes } from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg)\r\n  }\r\n\r\n  to {\r\n    transform: rotate(360deg)\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div.attrs((props) => ({\r\n  loading: props.loading,\r\n}))`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 20px;\r\n\r\n  &[loading] {\r\n    svg {\r\n      animation: ${rotate} 2s linear infinite;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n\r\n  span {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nexport const ProductList = styled.ul`\r\n  display: flex;\r\n  grid-gap: 20px;\r\n  flex-wrap: wrap;\r\n  list-style: none;\r\n  justify-content: center;\r\n\r\n  li {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #fff;\r\n    border-radius: 4px;\r\n    padding: 20px;\r\n\r\n    img {\r\n      align-self: center;\r\n      max-width: 250px;\r\n    }\r\n\r\n    > strong {\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      color: #333;\r\n      margin-top: 5px;\r\n    }\r\n\r\n    > span {\r\n      font-size: 21px;\r\n      font-weight: bold;\r\n      margin: 5px 0 20px;\r\n    }\r\n\r\n    button {\r\n      background: #7159c1;\r\n      color: #fff;\r\n      border: 0;\r\n      border-radius: 4px;\r\n      overflow: hidden;\r\n      margin-top: auto;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      transition: background 0.5s;\r\n\r\n      &:hover {\r\n        background: ${darken(0.05, '#7159c1')};\r\n      }\r\n\r\n      div {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 12px;\r\n        background: rgba(0, 0, 0, 0.1);\r\n\r\n        svg {\r\n          margin-right: 5px;\r\n        }\r\n      }\r\n\r\n      span {\r\n        flex: 1;\r\n        text-align: center;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","export function addToCartRequest(id) {\r\n  return {\r\n    type: '@cart/ADD_REQUEST',\r\n    id,\r\n  };\r\n}\r\n\r\nexport function addToCartSuccess(product) {\r\n  return {\r\n    type: '@cart/ADD_SUCCESS',\r\n    product,\r\n  };\r\n}\r\n\r\nexport function removeFromCart(id) {\r\n  return {\r\n    type: '@cart/REMOVE',\r\n    id,\r\n  };\r\n}\r\n\r\nexport function updateAmountRequest(id, amount) {\r\n  return {\r\n    type: '@cart/UPDATE_REQUEST',\r\n    id,\r\n    amount,\r\n  };\r\n}\r\n\r\nexport function updateAmountSuccess(id, amount) {\r\n  return {\r\n    type: '@cart/UPDATE_SUCCESS',\r\n    id,\r\n    amount,\r\n  };\r\n}\r\n","export const { format: formatPrice } = new Intl.NumberFormat('en-GB', {\r\n  style: 'currency',\r\n  currency: 'GBP',\r\n});\r\n","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL:\r\n    'https://my-json-server.typicode.com/luksops/json-server-rocketshoes',\r\n});\r\n\r\nexport default api;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { MdShoppingCart } from 'react-icons/md';\r\nimport { FaSpinner } from 'react-icons/fa';\r\nimport { bindActionCreators } from 'redux';\r\nimport { ProductList, Container } from './styles';\r\n\r\nimport * as CartActions from '../../store/modules/cart/actions';\r\nimport { formatPrice } from '../../utility/format';\r\nimport api from '../../services/api';\r\n// import { Container } from './styles';\r\nclass Home extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      products: [],\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true });\r\n    const response = await api.get('products');\r\n    const data = response.data.map((product) => ({\r\n      ...product,\r\n      priceFormatted: formatPrice(product.price),\r\n    }));\r\n\r\n    this.setState({\r\n      products: data,\r\n      loading: false,\r\n    });\r\n  }\r\n\r\n  handleAddToCart = (id) => {\r\n    const { addToCartRequest } = this.props;\r\n\r\n    addToCartRequest(id);\r\n  };\r\n\r\n  render() {\r\n    const { products, loading } = this.state;\r\n    const { quantity } = this.props;\r\n\r\n    return loading ? (\r\n      <Container loading={loading ? 1 : 0}>\r\n        <FaSpinner size={70} color=\"#fff\" />\r\n        <span>Loading</span>\r\n      </Container>\r\n    ) : (\r\n      <ProductList>\r\n        {products.map((product) => (\r\n          <li key={product.id}>\r\n            <img src={product.image} alt={product.title} />\r\n            <strong> {product.title} </strong>\r\n            <span> {product.priceFormatted} </span>\r\n\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => this.handleAddToCart(product.id)}\r\n            >\r\n              <div>\r\n                <MdShoppingCart size={16} color=\"#fff\" />{' '}\r\n                {quantity[product.id] || 0}\r\n              </div>\r\n\r\n              <span> ADD TO CART </span>\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ProductList>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(CartActions, dispatch);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  quantity: state.cart.reduce((quantity, product) => {\r\n    quantity[product.id] = product.amount;\r\n\r\n    return quantity;\r\n  }, {}),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  padding: 30px;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n\r\n  @media (max-width: 630px) {\r\n    overflow: auto;\r\n  }\r\n\r\n  footer {\r\n    margin-top: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    button {\r\n      background: #7159c1;\r\n      color: #fff;\r\n      border: 0;\r\n      border-radius: 4px;\r\n      padding: 12px 20px;\r\n      font-weight: bold;\r\n      text-transform: uppercase;\r\n      transition: background 0.5s;\r\n\r\n      &:hover {\r\n        background: ${darken(0.05, '#7159c1')};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ProductTable = styled.table`\r\n  width: 100%;\r\n\r\n  thead th {\r\n    color: #999;\r\n    text-align: center;\r\n    padding: 12px;\r\n  }\r\n\r\n  tbody td {\r\n    padding: 12px;\r\n    border-bottom: 1px solid #eee;\r\n\r\n    img {\r\n      height: 100px;\r\n    }\r\n\r\n    strong {\r\n      color: #333;\r\n      display: block;\r\n      text-align: center;\r\n    }\r\n\r\n    span {\r\n      display: block;\r\n      margin-top: 5px;\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n      text-align: center;\r\n    }\r\n\r\n    div {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-around;\r\n\r\n      input {\r\n        border: 1px solid #ddd;\r\n        border-radius: 4px;\r\n        color: #666;\r\n        padding: 6px;\r\n        width: 50px;\r\n      }\r\n    }\r\n\r\n    button {\r\n      background: none;\r\n      border: 0;\r\n      padding: 6px;\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      &:disabled {\r\n        opacity: 0.4;\r\n        cursor: not-allowed;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Total = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: space-between;\r\n\r\n  span {\r\n    color: #999;\r\n    font-weight: bold;\r\n  }\r\n\r\n  strong {\r\n    font-size: 20px;\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n\r\nexport const CartContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  svg {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  span {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    color: #999;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  MdRemoveCircleOutline,\r\n  MdAddCircleOutline,\r\n  MdDelete,\r\n  MdRemoveShoppingCart,\r\n} from 'react-icons/md';\r\n\r\nimport { bindActionCreators } from 'redux';\r\nimport { formatPrice } from '../../utility/format';\r\nimport * as CartActions from '../../store/modules/cart/actions';\r\nimport { Container, ProductTable, Total, CartContainer } from './styles';\r\n\r\nfunction Cart({ cart, removeFromCart, updateAmountRequest, total }) {\r\n  function increment(product) {\r\n    updateAmountRequest(product.id, product.amount + 1);\r\n  }\r\n\r\n  function decrement(product) {\r\n    updateAmountRequest(product.id, product.amount - 1);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {cart.length > 0 ? (\r\n        <>\r\n          <ProductTable>\r\n            <thead>\r\n              <tr>\r\n                <th aria-label=\"empty\" />\r\n                <th>Product</th>\r\n                <th>Quantity</th>\r\n                <th>Subtotal</th>\r\n                <th aria-label=\"empty\" />\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {cart.map((product) => (\r\n                <tr>\r\n                  <td>\r\n                    <img src={product.image} alt={product.title} />\r\n                  </td>\r\n                  <td>\r\n                    <strong> {product.title} </strong>\r\n                    <span> {product.priceFormatted} </span>\r\n                  </td>\r\n                  <td>\r\n                    <div>\r\n                      <button\r\n                        disabled={product.amount <= 1}\r\n                        type=\"button\"\r\n                        onClick={() => decrement(product)}\r\n                      >\r\n                        <MdRemoveCircleOutline size={20} color=\"#7159c1\" />\r\n                      </button>\r\n\r\n                      <input type=\"number\" readOnly value={product.amount} />\r\n\r\n                      <button type=\"button\" onClick={() => increment(product)}>\r\n                        <MdAddCircleOutline size={20} color=\"#7159c1\" />\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <strong> {product.subtotal} </strong>\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => removeFromCart(product.id)}\r\n                    >\r\n                      <MdDelete size={20} color=\"#7159c1\" />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </ProductTable>\r\n\r\n          <footer>\r\n            <button type=\"button\">Buy now</button>\r\n\r\n            <Total>\r\n              <span>TOTAL: </span>\r\n              <strong> {total} </strong>\r\n            </Total>\r\n          </footer>\r\n        </>\r\n      ) : (\r\n        <Container>\r\n          <CartContainer>\r\n            <MdRemoveShoppingCart size={75} color=\"#999\" />\r\n            <span>Empty Cart</span>\r\n          </CartContainer>\r\n        </Container>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapToProps = (state) => ({\r\n  cart: state.cart.map((product) => ({\r\n    ...product,\r\n    subtotal: formatPrice(product.amount * product.price),\r\n  })),\r\n  total: formatPrice(\r\n    state.cart.reduce(\r\n      (total, product) => total + product.amount * product.price,\r\n      0,\r\n    ),\r\n  ),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(CartActions, dispatch);\r\n\r\nexport default connect(mapToProps, mapDispatchToProps)(Cart);\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Home from './pages/Home';\r\nimport Cart from './pages/Cart';\r\n\r\nexport default function Routes() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/rocketshoes-web/\" exact component={Home} />\r\n      <Route path=\"/rocketshoes-web/cart\" exact component={Cart} />\r\n    </Switch>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  margin: 50px 0;\r\n\r\n  @media (max-width: 413px) {\r\n    justify-content: space-around;\r\n\r\n    a {\r\n      padding-bottom: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Cart = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  transition: opacity 0.15s;\r\n\r\n  &:hover {\r\n    opacity: 0.7;\r\n  }\r\n\r\n  div {\r\n    text-align: right;\r\n    margin-right: 10px;\r\n\r\n    strong {\r\n      display: block;\r\n      color: #fff;\r\n    }\r\n\r\n    span {\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/logo.48036d99.svg\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { MdShoppingBasket } from 'react-icons/md';\r\nimport { Container, Cart } from './styles';\r\nimport logo from '../../assets/img/logo.svg';\r\n\r\nfunction Header({ cartSize }) {\r\n  return (\r\n    <Container>\r\n      <Link to=\"/rocketshoes-web/\">\r\n        <img src={logo} alt=\"Rocketshoes\" />\r\n      </Link>\r\n\r\n      <Cart to=\"/rocketshoes-web/cart\">\r\n        <div>\r\n          <strong>My Cart</strong>\r\n          <span> {cartSize} Itens </span>\r\n        </div>\r\n        <MdShoppingBasket size={36} color=\"#fff\" />\r\n      </Cart>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default connect((state) => ({\r\n  cartSize: state.cart.length,\r\n}))(Header);\r\n","import { combineReducers } from 'redux';\r\n\r\nimport cart from './cart/reducer';\r\n\r\nexport default combineReducers({\r\n  cart,\r\n});\r\n","import produce from 'immer';\r\n\r\nexport default function cart(state = [], action) {\r\n  switch (action.type) {\r\n    case '@cart/ADD_SUCCESS':\r\n      return produce(state, (draft) => {\r\n        const { product } = action;\r\n\r\n        draft.push(product);\r\n      });\r\n\r\n    case '@cart/REMOVE':\r\n      return produce(state, (draft) => {\r\n        const productIndex = draft.findIndex((p) => p.id === action.id);\r\n\r\n        if (productIndex >= 0) {\r\n          draft.splice(productIndex, 1);\r\n        }\r\n      });\r\n\r\n    case '@cart/UPDATE_SUCCESS': {\r\n      return produce(state, (draft) => {\r\n        const productIndex = draft.findIndex((p) => p.id === action.id);\r\n\r\n        if (productIndex >= 0) {\r\n          draft[productIndex].amount = Number(action.amount);\r\n        }\r\n      });\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { call, put, all, takeLatest, select } from 'redux-saga/effects';\r\nimport { toast } from 'react-toastify';\r\nimport api from '../../../services/api';\r\nimport { formatPrice } from '../../../utility/format';\r\nimport { addToCartSuccess, updateAmountSuccess } from './actions';\r\n\r\nfunction* addToCart({ id }) {\r\n  const productExists = yield select((state) =>\r\n    state.cart.find((p) => p.id === id),\r\n  );\r\n\r\n  const stock = yield call(api.get, `/stock/${id}`);\r\n  const currentStock = stock.data.amount;\r\n  const currentAmount = productExists ? productExists.amount : 0;\r\n\r\n  const newAmount = currentAmount + 1;\r\n\r\n  if (newAmount > currentStock) {\r\n    toast.error('Unavaliable requested amount for this product.');\r\n    return;\r\n  }\r\n\r\n  if (productExists) {\r\n    yield put(updateAmountSuccess(id, newAmount));\r\n  } else {\r\n    const response = yield call(api.get, `/products/${id}`);\r\n\r\n    const data = {\r\n      ...response.data,\r\n      amount: 1,\r\n      priceFormatted: formatPrice(response.data.price),\r\n    };\r\n\r\n    yield put(addToCartSuccess(data));\r\n  }\r\n}\r\n\r\nfunction* updateAmount({ id, amount }) {\r\n  if (amount <= 0) {\r\n    return;\r\n  }\r\n\r\n  const stock = yield call(api.get, `/stock/${id}`);\r\n  const currentStock = stock.data.amount;\r\n\r\n  if (amount > currentStock) {\r\n    toast.error('Unavaliable requested amount for this product.');\r\n  } else {\r\n    yield put(updateAmountSuccess(id, amount));\r\n  }\r\n}\r\n\r\nexport default all([\r\n  takeLatest('@cart/ADD_REQUEST', addToCart),\r\n  takeLatest('@cart/UPDATE_REQUEST', updateAmount),\r\n]);\r\n","import { all } from 'redux-saga/effects';\r\nimport cart from './cart/sagas';\r\n\r\nexport default function* rootSaga() {\r\n  return yield all([cart]);\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\n\r\nimport rootReducer from './modules/rootReducer';\r\nimport rootSaga from './modules/rootSaga';\r\n\r\nconst sagaMonitor =\r\n  process.env.NODE_ENV === 'development'\r\n    ? console.tron.createSagaMonitor()\r\n    : null;\r\n\r\nconst sagaMiddleware = createSagaMiddleware({\r\n  sagaMonitor,\r\n});\r\n\r\nconst enhancer =\r\n  process.env.NODE_ENV === 'development'\r\n    ? compose(console.tron.createEnhancer(), applyMiddleware(sagaMiddleware))\r\n    : applyMiddleware(sagaMiddleware);\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport './config/reactotronConfig';\r\n\r\nimport GlobalStyle from './styles/global';\r\nimport Routes from './routes';\r\nimport Header from './components/Header';\r\nimport store from './store';\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <Header />\r\n        <Routes />\r\n        <GlobalStyle />\r\n        <ToastContainer autoClose={3000} />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}